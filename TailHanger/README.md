# 悬尾实验数据分析
有需求（支持 **AVI 视频处理**、**裁剪时间片段**、**可调节二值化参数**以及**导出 CSV**），我为您编写了一个集成化的 **MATLAB GUI 脚本**。

代码保存为 `TailStruggleApp.m` 并运行。

## 功能操作指南：

1.  **加载视频 (Load AVI)**：点击按钮选择视频文件。左侧窗口将显示视频。
2.  **片段裁剪 (Time Segment)**：
    *   在两个数字输入框中输入您想分析的 **起始帧** 和 **结束帧**（例如 100 到 2000 帧）。
3.  **框选 ROI (ROI Selection)**：
    *   点击按钮后，在左侧图中拖动鼠标框选**白色尾巴**。
    *   *建议*：只框选尾巴可能活动的区域，排除干扰物。
4.  **调节二值化灵敏度 (Binarization Slider)**：
    *   拖动滑块，右上角的预览图会实时变化。
    *   **目标**：调整到背景变黑，尾巴变成清晰的一条白线且没有断裂。
5.  **开始分析 (Run Processing)**：
    *   点击绿色按钮。程序将逐帧处理选定的视频段。
    *   下方图表会实时绘制 **Tortuosity (弯曲度)**。
6.  **导出 CSV**：
    *   分析结束后，点击导出按钮，获得包含时间轴和弯曲度指标的 CSV 表格。

### 指标说明：
*   **Tortuosity (L/C)**：
    *   `1.0`：尾巴是笔直的。
    *   `1.2 - 2.0`：尾巴中度弯曲或摆动。
    *   `> 2.5`：剧烈挣扎，尾巴蜷曲严重。

### 环境要求：
*   需要安装有 **Image Processing Toolbox** 的 MATLAB。
*   支持主流的 AVI 编码格式。如果视频无法打开，请检查是否安装了相应的解码器包。
